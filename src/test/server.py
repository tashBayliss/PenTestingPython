import socket

def Main():
    host = socket.gethostname()
    port = 12345
    serversocket = socket.socket()

    # binds to host on port number specified above
    serversocket.bind((host,port))

    # listen for 1 connection - refuse other connections
    serversocket.listen(1)
    
    print('socket is listening')
    
    while True:
        conn,addr = serversocket.accept()
        
        print("Got connection from %s" % str(addr))
        msg = 'Connecting Established'+ "\r\n"
        
        conn.send(msg.encode('ascii'))
        conn.close()

if __name__ == '__main__':
    Main()
